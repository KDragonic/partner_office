{% load static %}

<style>
  .pmenu {
    background: #56708d;
    width: 265px;
    height: 100vh;
    padding: 0 20px;
    display: flex;
    flex-direction: column;
    position: relative;
  }

  .pmenu_body {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .pmenu .logo {
    text-align: center;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    letter-spacing: 3.52px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 19px 0;
  }

  .pmenu hr {
    border: none;
    height: 1px;
    background-color: rgb(255 255 255 / 0%);
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgb(255 255 255 / 40%), rgb(255 255 255 / 60%), rgba(0, 0, 0, 0));
    margin: 0;
  }

  .pmenu .tabs {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 5px;
    flex-grow: 1;
    padding-left: 10px;
  }


  .pmenu .tabs .tabs-item {
    display: flex;
    flex-direction: row;
    border-radius: 15px;
    cursor: pointer;
    color: white;
    line-height: 108%;
    transition: color 0.2s;
  }

  .pmenu .tabs .tabs-item:hover {
    color: #c6c6c6;
  }

  .pmenu .tabs .tabs-item.selected {
    color: #1fc2c2;
  }

  .pmenu .tabs .tabs-item[level="1"] {padding-left: 10px;}
  .pmenu .tabs .tabs-item[level="2"] {padding-left: 20px;}
  .pmenu .tabs .tabs-item[level="3"] {padding-left: 30px;}
  .pmenu .tabs .tabs-item[level="4"] {padding-left: 40px;}
  .pmenu .tabs .tabs-item[level="5"] {padding-left: 50px;}

  .faq {
    border-radius: 15px;
    background: #C1DEFF;
    padding: 16px;
    margin-bottom: 14px;
  }

  .faq .icon {
    padding: 5px;
    background: white;
    border-radius: 12px;
    width: min-content;
  }

  .faq .title {
    color: #323232;
    margin-top: 10px;
    font-size: 14px;
    font-weight: 700;
  }

  .faq .text {
    color: #323232;
    font-size: 12px;
    font-weight: 400;
  }

  .faq button {
    background: #060B28BD;
    color: white;
    width: 100%;
    padding: 9px 0;
    border-radius: 10px;
    margin-top: 10px;
    font-size: 12px;
  }

  .pmenu .show_button {
    background-color: #17A1A1;
    border-radius: 0px 0px 0px 12px;
    position: absolute;
    right: 0;
    top: 0;
    padding: 10px;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .pmenu .show_button:hover {
    background-color: #21afaf;
  }

  .pmenu.hide .show_button {
    border-radius: 0;
  }

  .pmenu.hide .pmenu_body {
    display: none;
  }

  .pmenu {
    transition: width 0.2s;
  }

  .pmenu.hide {
    width: 39px;
    padding: 0;
  }

  .pmenu .show_button .show {display: block}
  .pmenu .show_button .hide {display: none}

  .pmenu.hide .show_button .hide {display: block}
  .pmenu.hide .show_button .show {display: none}


  @media screen and (max-width: 900px) and (min-width: 600px) {
    .pmenu {
      padding: 0;
    }

    .pmenu .logo {
      text-align: start;
      letter-spacing: 3.52px;
      padding: 8px 0;
      margin-right: 41px;
    }

    .faq {
      border-radius: 0;
      margin: 0;
    }
  }

  @media screen and (max-width: 600px) {
    .pmenu {
      min-width: 100vw;
    }

    .pmenu.hide {
      min-width: auto;
    }
  }

</style>

<div class="pmenu">
  <div class="show_button">
    <svg class="show" xmlns="http://www.w3.org/2000/svg" width="18" height="14" viewBox="0 0 18 14" fill="none">
      <path d="M11.5283 1.92283L9.93532 3.52483C9.32477 3.36099 8.68184 3.36082 8.0712 3.52432C7.46056 3.68782 6.90373 4.00924 6.45673 4.45624C6.00973 4.90324 5.68832 5.46006 5.52482 6.0707C5.36131 6.68134 5.36149 7.32427 5.52532 7.93483L3.04132 10.4098C1.85332 9.50983 0.863321 8.33983 0.179321 6.99883C1.20615 4.98538 2.89101 3.3839 4.95393 2.46049C7.01686 1.53709 9.33365 1.34736 11.5193 1.92283H11.5283ZM14.9483 3.58783C16.1453 4.48783 17.1353 5.65783 17.8283 6.99883C16.8008 9.01599 15.113 10.6201 13.0462 11.5437C10.9795 12.4674 8.65854 12.6548 6.47032 12.0748L8.06332 10.4728C8.67387 10.6367 9.3168 10.6368 9.92745 10.4733C10.5381 10.3098 11.0949 9.98841 11.5419 9.54141C11.9889 9.09442 12.3103 8.53759 12.4738 7.92695C12.6373 7.31631 12.6372 6.67338 12.4733 6.06283L14.9573 3.58783H14.9483ZM14.7233 -0.00317383L16.0013 1.27483L3.27532 14.0008L1.99732 12.7228L14.7233 -0.00317383Z" fill="white"/>
    </svg>

    <svg class="hide" xmlns="http://www.w3.org/2000/svg" width="17" height="12" viewBox="0 0 17 12" fill="none">
      <path d="M8.25 3.375C7.65326 3.375 7.08097 3.61205 6.65901 4.03401C6.23705 4.45597 6 5.02826 6 5.625C6 6.22174 6.23705 6.79403 6.65901 7.21599C7.08097 7.63795 7.65326 7.875 8.25 7.875C8.84674 7.875 9.41903 7.63795 9.84099 7.21599C10.2629 6.79403 10.5 6.22174 10.5 5.625C10.5 5.02826 10.2629 4.45597 9.84099 4.03401C9.41903 3.61205 8.84674 3.375 8.25 3.375ZM8.25 9.375C7.25544 9.375 6.30161 8.97991 5.59835 8.27665C4.89509 7.57339 4.5 6.61956 4.5 5.625C4.5 4.63044 4.89509 3.67661 5.59835 2.97335C6.30161 2.27009 7.25544 1.875 8.25 1.875C9.24456 1.875 10.1984 2.27009 10.9016 2.97335C11.6049 3.67661 12 4.63044 12 5.625C12 6.61956 11.6049 7.57339 10.9016 8.27665C10.1984 8.97991 9.24456 9.375 8.25 9.375ZM8.25 0C4.5 0 1.2975 2.3325 0 5.625C1.2975 8.9175 4.5 11.25 8.25 11.25C12 11.25 15.2025 8.9175 16.5 5.625C15.2025 2.3325 12 0 8.25 0Z" fill="white"/>
    </svg>
  </div>

  <section class="pmenu_body">
    <div class="logo">
      Документация
    </div>
    <hr />
    <div class="tabs">
      {% for page in pages %}
        {% if page.url == current_path %}
        <span class="tabs-item selected" level="{{page.level}}">{{page.title}}</span>
        {% else %}
        <a href="{{page.url}}" class="tabs-item" level="{{page.level}}">{{page.title}}</a>
        {% endif %}
      {% endfor %}
    </div>
  </section>
</div>


<script>
  $(document).ready(function () {
    $(".tabs-item.nested .header").click(function() {
      $(this).parents(".tabs-item").find(".subtabs").toggle(20)
    })
    $(".pmenu .show_button").click(function() {
      $(".pmenu").toggleClass("hide")
    })
  })
</script>